version: "3.2"

services:
  mariadb:
    image: mariadb:latest
    restart: unless-stopped
    environment:
      - MARIADB_ROOT_PASSWORD=${SOLA_DB_PWD}
    ports:
      - ${SOLA_DB_PORT}:3306
    networks:
      shotit_net:


  redis:
    image: redis:latest
    ports:
      - ${REDIS_PORT}:6379
    networks:
      shotit_net:


  liresolr:
    image: ghcr.io/soruly/liresolr:latest
    command: solr-precreate cl_0 /opt/solr/server/solr/configsets/liresolr
    restart: unless-stopped
    ports:
      - 18983:8983
    volumes:
      - type: bind
        source: /var/solr
        target: /var/solr
    networks:
      shotit_net:


networks:
  shotit_net:
    driver: bridge
